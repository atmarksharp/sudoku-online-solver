function makeArray(c,d){var a=[];for(var b=0;b<c;b++){a.push(d)}return a}function couldNotSolve(){console.log("[LOG] Could not solve");alert("答えを出すことが出来ませんでした。\n（ヒント：問題のミスを確認して下さい）");throw"Could not solve"}var div=function(d,c){return(d-(d%c))/c};function get(a,c,b){return b[c][a]}function set(a,d,b,c){c[d][a]=b}function get_seq(a,d,c,b){return b[a+(c*d)]}function set_seq(a,e,c,d,b){b[a+(d*e)]=c}var solver=function(h,r,b,p,m,c){var k=r*r;var d=m||Math.floor(r/b);var l=c||r/d;for(var g=0;g<k;g+=1){if(h[g]!=0){continue}var q=makeArray(r+1,false);var a=div(g,r);var n=g%r;var o=div(g,l);var f=div(g%r,d);for(var e=0;e<k;e+=1){if(div(e,r)==a||e%r==n||(div(e,l)==o&&div(e%r,d)==f)){q[h[e]]=true}}for(var e=1;e<=r;e+=1){if(q[e]){continue}h[g]=e;solver(h,r,b,p,d,l)}h[g]=0;return}p(h)};function makeBoard(c,e){var f=[];for(var d=0;d<e;d++){f[d]=makeArray(e,0)}for(var d=0;d<c.length;d++){var b=c[d]||0;var a=d%e;var g=Math.floor(d/e);set(a,g,b,f)}return f}function printSeq(e,g){var c=[];var b="";for(var f=0;f<e.length;f++){var d=e[f]||0;var a=f%g;var h=Math.floor(f/g);c.push(d);if(a==g-1){b+=(c.join(",")+"\n");c=[]}}console.log("\n"+b)}var useIndexOf=999;function findValue(a,c){if(useIndexOf===999){if(typeof[].indexOf=="undefined"){useIndexOf=false}else{useIndexOf=true}}if(useIndexOf===true){return a.indexOf(c)>-1}else{for(var b=0;b<a.length;b++){if(a[b]===c){return true}}return false}}function checkVertical(e,d){var b=[];for(var a=0;a<d;a++){for(var f=0;f<d;f++){var c=get(a,f,e);if(!(c<=d&&c>0)){return false}if(findValue(b,c)){return false}b.push(c)}b=[]}return true}function checkResult(b){var a=b.length;return checkVertical(b,a)}function solve_sudoku(d,c,e,f){if(d==null||d.length==0){couldNotSolve()}var b=ques2Seq(d,c);printSeq(b,c);var a=false;solver(b,c,e,function(h){a=true;var g=makeBoard(h,c);printBoard(g);if(checkResult(g)){f(g)}else{couldNotSolve()}});if(a===false){couldNotSolve()}}function printBoard(f){var e=f.length;var d="\n";var c=[];for(var g=0;g<e;g++){for(var a=0;a<e;a++){var b=get(a,g,f)||0;c[a]=b}d+=("|"+c.join("|")+"|\n")}console.log(d)}function printQuestion(){printSeq(ques2Seq(questions,size),size)}function ques2Seq(a,k){var j=makeArray(k*k,0);if(a!=null&&a.length!=0){for(var b=0;b<a.length;b++){var c=a[b];var g=parseInt(c.x);var f=parseInt(c.y);var h=parseInt(c.val);var d=g+(k*f);if(h!=0&&h!=null){j[d]=h}}}return j};
